import e from"./python-version-check.9d13d3dd.js";import t from"./python-version-check.171f2d6c.js";import o from"./python-version-check.dba5a2d4.js";import c from"./python-version-check.7ed1514e.js";import n from"./python-version-check.ebf2a848.js";import i from"./python-version-check.091f3542.js";var s={},r=e.PoolBase,h=$b1NmM$pythonversioncheck9d13d3ddjs1.kClients,a=$b1NmM$pythonversioncheck9d13d3ddjs3.kNeedDrain,l=$b1NmM$pythonversioncheck9d13d3ddjs.kAddClient,p=$b1NmM$pythonversioncheck9d13d3ddjs2.kGetDispatcher,f=o.InvalidArgumentError,m=n.kUrl,y=$b1NmM$pythonversioncheckebf2a848js.kInterceptors;let H=Symbol("options"),d=Symbol("connections"),u=Symbol("factory");function _(e,o){return new t(e,o)}s=class extends r{constructor(e,{connections:t,factory:o=_,connect:n,connectTimeout:s,tls:r,maxCachedSessions:a,socketPath:l,autoSelectFamily:p,autoSelectFamilyAttemptTimeout:S,allowH2:b,...k}={}){if(super(),null!=t&&(!Number.isFinite(t)||t<0))throw new f("invalid connections");if("function"!=typeof o)throw new f("factory must be a function.");if(null!=n&&"function"!=typeof n&&"object"!=typeof n)throw new f("connect must be a function or an object");"function"!=typeof n&&(n=i({...r,maxCachedSessions:a,allowH2:b,socketPath:l,timeout:s,...$b1NmM$pythonversioncheck7ed1514ejs1.nodeHasAutoSelectFamily&&p?{autoSelectFamily:p,autoSelectFamilyAttemptTimeout:S}:void 0,...n})),this[y]=k.interceptors&&k.interceptors.Pool&&Array.isArray(k.interceptors.Pool)?k.interceptors.Pool:[],this[d]=t||null,this[m]=c.parseOrigin(e),this[H]={...$b1NmM$pythonversioncheck7ed1514ejs.deepClone(k),connect:n,allowH2:b},this[H].interceptors=k.interceptors?{...k.interceptors}:void 0,this[u]=o,this.on("connectionError",(e,t,o)=>{for(let e of t){let t=this[h].indexOf(e);-1!==t&&this[h].splice(t,1)}})}[p](){let e=this[h].find(e=>!e[a]);return e||(!this[d]||this[h].length<this[d])&&(e=this[u](this[m],this[H]),this[l](e)),e}};export{s as default};
//# sourceMappingURL=python-version-check.91f60e5c.js.map
