{"mappings":"A,O,M,qD,A,Q,M,qD,A,Q,M,qD,C,I,E,C,E,E,G,E,S,E,S,C,C,C,C,C,C,C,E,O,G,C,G,C,E,O,C,E,S,C,C,C,E,S,E,C,E,G,C,E,E,I,C,G,C,M,E,C,E,E,C,C,S,E,C,E,G,C,E,E,K,C,G,C,M,E,C,E,E,C,C,S,E,C,M,C,C,E,I,C,E,E,K,E,A,C,C,E,E,K,Y,E,E,I,E,S,C,E,E,E,E,E,I,C,E,E,C,E,A,C,E,E,K,C,E,G,E,C,E,I,G,E,E,O,c,C,E,a,C,M,C,C,G,E,U,C,K,CEUA,OAAa,EACH,OAAO,iBACb,EAAa,CAAA,CAAI,CACjB,EAAW,EAAE,CAFP,CASN,OAAO,IAAI,EAAA,UAAA,CACT,sBACA,CAAC,IAAI,EAAA,uBAAA,CAAwB,EAAW,eAAe,IAAI,CAPtB,CACrC,aAAc,EACd,WAAY,CACb,EAOH,CAEQ,OAAO,iBAAP,CACN,IAAM,EAAQ,QAAQ,GAAG,CAAC,8BAAiC,CAC3D,GAAI,CAAC,EACH,MAAM,AAAI,MACR,6DAGJ,OAAO,CACT,CAEQ,OAAO,eAAP,CACN,IAAM,EAAa,QAAQ,GAAG,CAAC,4BAA+B,CAC9D,GAAI,CAAC,EACH,MAAM,AAAI,MAAM,2DAElB,OAAO,CACT,CAEQ,OAAa,QAAQ,CAAoB,CAAzC,C,I,E,O,E,I,C,K,E,K,E,YACN,IAAM,EAAa,EAAW,gBAAgB,GAYxC,EAAW,MAAA,CAAA,EAAA,AAVL,CAAA,MAAM,EACf,OAAO,CAAgB,GACvB,KAAK,CAAC,AAAA,IACL,MAAM,AAAI,MACR,CADF;AAAA;AAEe,qBAAA,EAAA,EAAM,UAAU;AAAhB;AACE,uBAAA,EAAA,EAAM,OAAO,CAAA,CAAE,CAElC,EAAA,EAEmB,MAAM,AAAN,EAAM,KAAA,EAAA,EAAE,KAAK,CAClC,GAAI,CAAC,EACH,MAAM,AAAI,MAAM,iDAElB,OAAO,C,EACR,CAED,OAAa,WAAW,CAAiB,CAAzC,C,O,E,I,C,K,E,K,E,YACE,GAAI,CAEF,IAAI,EAAuB,EAAW,aAAa,GACnD,GAAI,EAAU,CACZ,IAAM,EAAkB,mBAAmB,GAC3C,EAAe,CAAA,EAAG,EAAY,UAAA,EAAa,EAAA,CAAiB,AAC7D,CAED,AAAA,CAAA,EAAA,qDAAA,KAAA,AAAA,EAAM,CAAA,gBAAA,EAAmB,EAAA,CAAc,EAEvC,IAAM,EAAW,MAAM,EAAW,OAAO,CAAC,GAE1C,MADA,AAAA,CAAA,EAAA,EAAA,SAAA,AAAA,EAAU,GACH,CACR,CAAC,MAAO,EAAO,CACd,MAAM,AAAI,MAAM,CAAA,eAAA,EAAkB,EAAM,OAAO,CAAA,CAAE,CAClD,CACH,EAAC,CACF,CAzED,EAAA,UAAA,CAAA,S,K,O","sources":["<anon>","node_modules/.pnpm/@actions+core@1.11.1/node_modules/@actions/core/lib/oidc-utils.js","node_modules/.pnpm/@actions+core@1.11.1/node_modules/@actions/core/src/oidc-utils.ts"],"sourcesContent":["import $d4EGd$pythonversioncheckc435cc7fjs from \"./python-version-check.c435cc7f.js\";\nimport $d4EGd$pythonversioncheck8e226539js from \"./python-version-check.8e226539.js\";\nimport $d4EGd$pythonversionchecka30f15a5js1 from \"./python-version-check.a30f15a5.js\";\n\nvar $4059aa46cd8d91a5$exports = {};\n\"use strict\";\nvar $4059aa46cd8d91a5$var$__awaiter = $4059aa46cd8d91a5$exports && $4059aa46cd8d91a5$exports.__awaiter || function(thisArg, _arguments, P, generator) {\n    function adopt(value) {\n        return value instanceof P ? value : new P(function(resolve) {\n            resolve(value);\n        });\n    }\n    return new (P || (P = Promise))(function(resolve, reject) {\n        function fulfilled(value) {\n            try {\n                step(generator.next(value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function rejected(value) {\n            try {\n                step(generator[\"throw\"](value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function step(result) {\n            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n        }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty($4059aa46cd8d91a5$exports, \"__esModule\", {\n    value: true\n});\n$4059aa46cd8d91a5$exports.OidcClient = void 0;\n\n\n\nclass $4059aa46cd8d91a5$var$OidcClient {\n    static createHttpClient(allowRetry = true, maxRetry = 10) {\n        const requestOptions = {\n            allowRetries: allowRetry,\n            maxRetries: maxRetry\n        };\n        return new $d4EGd$pythonversioncheckc435cc7fjs.HttpClient('actions/oidc-client', [\n            new $d4EGd$pythonversioncheck8e226539js.BearerCredentialHandler($4059aa46cd8d91a5$var$OidcClient.getRequestToken())\n        ], requestOptions);\n    }\n    static getRequestToken() {\n        const token = process.env['ACTIONS_ID_TOKEN_REQUEST_TOKEN'];\n        if (!token) throw new Error('Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable');\n        return token;\n    }\n    static getIDTokenUrl() {\n        const runtimeUrl = process.env['ACTIONS_ID_TOKEN_REQUEST_URL'];\n        if (!runtimeUrl) throw new Error('Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable');\n        return runtimeUrl;\n    }\n    static getCall(id_token_url) {\n        var _a;\n        return $4059aa46cd8d91a5$var$__awaiter(this, void 0, void 0, function*() {\n            const httpclient = $4059aa46cd8d91a5$var$OidcClient.createHttpClient();\n            const res = yield httpclient.getJson(id_token_url).catch((error)=>{\n                throw new Error(`Failed to get ID Token. \\n \n        Error Code : ${error.statusCode}\\n \n        Error Message: ${error.message}`);\n            });\n            const id_token = (_a = res.result) === null || _a === void 0 ? void 0 : _a.value;\n            if (!id_token) throw new Error('Response json body do not have ID Token field');\n            return id_token;\n        });\n    }\n    static getIDToken(audience) {\n        return $4059aa46cd8d91a5$var$__awaiter(this, void 0, void 0, function*() {\n            try {\n                // New ID Token is requested from action service\n                let id_token_url = $4059aa46cd8d91a5$var$OidcClient.getIDTokenUrl();\n                if (audience) {\n                    const encodedAudience = encodeURIComponent(audience);\n                    id_token_url = `${id_token_url}&audience=${encodedAudience}`;\n                }\n                (0, $d4EGd$pythonversionchecka30f15a5js.debug)(`ID token url is ${id_token_url}`);\n                const id_token = yield $4059aa46cd8d91a5$var$OidcClient.getCall(id_token_url);\n                (0, $d4EGd$pythonversionchecka30f15a5js1.setSecret)(id_token);\n                return id_token;\n            } catch (error) {\n                throw new Error(`Error message: ${error.message}`);\n            }\n        });\n    }\n}\n$4059aa46cd8d91a5$exports.OidcClient = $4059aa46cd8d91a5$var$OidcClient;\n\n\nexport {$4059aa46cd8d91a5$exports as default};\n//# sourceMappingURL=python-version-check.3961b844.js.map\n",null,null],"names":["$d4EGd$pythonversioncheckc435cc7fjs","$d4EGd$pythonversioncheck8e226539js","$d4EGd$pythonversionchecka30f15a5js1","$4059aa46cd8d91a5$exports","$4059aa46cd8d91a5$var$__awaiter","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","adopt","then","apply","Object","defineProperty","OidcClient","$4059aa46cd8d91a5$var$OidcClient","createHttpClient","allowRetry","maxRetry","HttpClient","BearerCredentialHandler","getRequestToken","allowRetries","maxRetries","token","process","env","Error","getIDTokenUrl","runtimeUrl","getCall","id_token_url","_a","httpclient","id_token","res","getJson","catch","error","statusCode","message","getIDToken","audience","encodedAudience","encodeURIComponent","$d4EGd$pythonversionchecka30f15a5js","debug","setSecret","default"],"version":3,"file":"python-version-check.3961b844.js.map","sourceRoot":"../"}