import t from"./python-version-check.8bf8cf5c.js";import e from"./python-version-check.d76106ee.js";import r from"./python-version-check.89a0ce5d.js";import i from"./python-version-check.789a0bf3.js";import{Writable as s}from"node:stream";import{inherits as o}from"node:util";var h={};function p(t){if(!(this instanceof p))return new p(t);if("object"!=typeof t)throw TypeError("Busboy expected an options-Object.");if("object"!=typeof t.headers)throw TypeError("Busboy expected an options-Object with headers-attribute.");if("string"!=typeof t.headers["content-type"])throw TypeError("Missing Content-Type-header.");let{headers:e,...r}=t;this.opts={autoDestroy:!1,...r},s.call(this,this.opts),this._done=!1,this._parser=this.getParserByHeaders(e),this._finished=!1}o(p,s),p.prototype.emit=function(t){if("finish"===t){if(!this._done)return void this._parser?.end();if(this._finished)return;this._finished=!0}s.prototype.emit.apply(this,arguments)},p.prototype.getParserByHeaders=function(t){let s=i(t["content-type"]),o={defCharset:this.opts.defCharset,fileHwm:this.opts.fileHwm,headers:t,highWaterMark:this.opts.highWaterMark,isPartAFile:this.opts.isPartAFile,limits:this.opts.limits,parsedConType:s,preservePath:this.opts.preservePath};if(e.detect.test(s[0]))return new e(this,o);if(r.detect.test(s[0]))return new r(this,o);throw Error("Unsupported Content-Type.")},p.prototype._write=function(t,e,r){this._parser.write(t,r)},h=p,h.default=p,h.Busboy=p,h.Dicer=t;export{h as default};
//# sourceMappingURL=python-version-check.5a6f079b.js.map
