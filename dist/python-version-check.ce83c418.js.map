{"mappings":"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","sources":["<anon>","node_modules/.pnpm/undici@5.29.0/node_modules/undici/lib/api/readable.js"],"sourcesContent":["import $l2MzW$pythonversioncheckdba5a2d4js2 from \"./python-version-check.dba5a2d4.js\";\nimport $l2MzW$pythonversioncheck7ed1514ejs4 from \"./python-version-check.7ed1514e.js\";\nimport * as $l2MzW$assert from \"assert\";\nimport {Readable as $l2MzW$Readable} from \"stream\";\n\nvar $23d1cdec594f9529$exports = {};\n// Ported from https://github.com/nodejs/undici/pull/907\n'use strict';\n\n\nvar $23d1cdec594f9529$require$Readable = $l2MzW$Readable;\n\nvar $23d1cdec594f9529$require$RequestAbortedError = $l2MzW$pythonversioncheckdba5a2d4js2.RequestAbortedError;\nvar $23d1cdec594f9529$require$NotSupportedError = $l2MzW$pythonversioncheckdba5a2d4js1.NotSupportedError;\nvar $23d1cdec594f9529$require$InvalidArgumentError = $l2MzW$pythonversioncheckdba5a2d4js.InvalidArgumentError;\n\n\nvar $23d1cdec594f9529$require$ReadableStreamFrom = $l2MzW$pythonversioncheck7ed1514ejs2.ReadableStreamFrom;\nvar $23d1cdec594f9529$require$toUSVString = $l2MzW$pythonversioncheck7ed1514ejs4.toUSVString;\nlet $23d1cdec594f9529$var$Blob;\nconst $23d1cdec594f9529$var$kConsume = Symbol('kConsume');\nconst $23d1cdec594f9529$var$kReading = Symbol('kReading');\nconst $23d1cdec594f9529$var$kBody = Symbol('kBody');\nconst $23d1cdec594f9529$var$kAbort = Symbol('abort');\nconst $23d1cdec594f9529$var$kContentType = Symbol('kContentType');\nconst $23d1cdec594f9529$var$noop = ()=>{};\n$23d1cdec594f9529$exports = class BodyReadable extends $23d1cdec594f9529$require$Readable {\n    constructor({ resume: resume, abort: abort, contentType: contentType = '', highWaterMark: highWaterMark = 65536 // Same as nodejs fs streams.\n     }){\n        super({\n            autoDestroy: true,\n            read: resume,\n            highWaterMark: highWaterMark\n        });\n        this._readableState.dataEmitted = false;\n        this[$23d1cdec594f9529$var$kAbort] = abort;\n        this[$23d1cdec594f9529$var$kConsume] = null;\n        this[$23d1cdec594f9529$var$kBody] = null;\n        this[$23d1cdec594f9529$var$kContentType] = contentType;\n        // Is stream being consumed through Readable API?\n        // This is an optimization so that we avoid checking\n        // for 'data' and 'readable' listeners in the hot path\n        // inside push().\n        this[$23d1cdec594f9529$var$kReading] = false;\n    }\n    destroy(err) {\n        if (this.destroyed) // Node < 16\n        return this;\n        if (!err && !this._readableState.endEmitted) err = new $23d1cdec594f9529$require$RequestAbortedError();\n        if (err) this[$23d1cdec594f9529$var$kAbort]();\n        return super.destroy(err);\n    }\n    emit(ev, ...args) {\n        if (ev === 'data') // Node < 16.7\n        this._readableState.dataEmitted = true;\n        else if (ev === 'error') // Node < 16\n        this._readableState.errorEmitted = true;\n        return super.emit(ev, ...args);\n    }\n    on(ev, ...args) {\n        if (ev === 'data' || ev === 'readable') this[$23d1cdec594f9529$var$kReading] = true;\n        return super.on(ev, ...args);\n    }\n    addListener(ev, ...args) {\n        return this.on(ev, ...args);\n    }\n    off(ev, ...args) {\n        const ret = super.off(ev, ...args);\n        if (ev === 'data' || ev === 'readable') this[$23d1cdec594f9529$var$kReading] = this.listenerCount('data') > 0 || this.listenerCount('readable') > 0;\n        return ret;\n    }\n    removeListener(ev, ...args) {\n        return this.off(ev, ...args);\n    }\n    push(chunk) {\n        if (this[$23d1cdec594f9529$var$kConsume] && chunk !== null && this.readableLength === 0) {\n            $23d1cdec594f9529$var$consumePush(this[$23d1cdec594f9529$var$kConsume], chunk);\n            return this[$23d1cdec594f9529$var$kReading] ? super.push(chunk) : true;\n        }\n        return super.push(chunk);\n    }\n    // https://fetch.spec.whatwg.org/#dom-body-text\n    async text() {\n        return $23d1cdec594f9529$var$consume(this, 'text');\n    }\n    // https://fetch.spec.whatwg.org/#dom-body-json\n    async json() {\n        return $23d1cdec594f9529$var$consume(this, 'json');\n    }\n    // https://fetch.spec.whatwg.org/#dom-body-blob\n    async blob() {\n        return $23d1cdec594f9529$var$consume(this, 'blob');\n    }\n    // https://fetch.spec.whatwg.org/#dom-body-arraybuffer\n    async arrayBuffer() {\n        return $23d1cdec594f9529$var$consume(this, 'arrayBuffer');\n    }\n    // https://fetch.spec.whatwg.org/#dom-body-formdata\n    async formData() {\n        // TODO: Implement.\n        throw new $23d1cdec594f9529$require$NotSupportedError();\n    }\n    // https://fetch.spec.whatwg.org/#dom-body-bodyused\n    get bodyUsed() {\n        return $l2MzW$pythonversioncheck7ed1514ejs1.isDisturbed(this);\n    }\n    // https://fetch.spec.whatwg.org/#dom-body-body\n    get body() {\n        if (!this[$23d1cdec594f9529$var$kBody]) {\n            this[$23d1cdec594f9529$var$kBody] = $23d1cdec594f9529$require$ReadableStreamFrom(this);\n            if (this[$23d1cdec594f9529$var$kConsume]) {\n                // TODO: Is this the best way to force a lock?\n                this[$23d1cdec594f9529$var$kBody].getReader() // Ensure stream is locked.\n                ;\n                $l2MzW$assert(this[$23d1cdec594f9529$var$kBody].locked);\n            }\n        }\n        return this[$23d1cdec594f9529$var$kBody];\n    }\n    dump(opts) {\n        let limit = opts && Number.isFinite(opts.limit) ? opts.limit : 262144;\n        const signal = opts && opts.signal;\n        if (signal) try {\n            if (typeof signal !== 'object' || !('aborted' in signal)) throw new $23d1cdec594f9529$require$InvalidArgumentError('signal must be an AbortSignal');\n            $l2MzW$pythonversioncheck7ed1514ejs3.throwIfAborted(signal);\n        } catch (err) {\n            return Promise.reject(err);\n        }\n        if (this.closed) return Promise.resolve(null);\n        return new Promise((resolve, reject)=>{\n            const signalListenerCleanup = signal ? $l2MzW$pythonversioncheck7ed1514ejs.addAbortListener(signal, ()=>{\n                this.destroy();\n            }) : $23d1cdec594f9529$var$noop;\n            this.on('close', function() {\n                signalListenerCleanup();\n                if (signal && signal.aborted) reject(signal.reason || Object.assign(new Error('The operation was aborted'), {\n                    name: 'AbortError'\n                }));\n                else resolve(null);\n            }).on('error', $23d1cdec594f9529$var$noop).on('data', function(chunk) {\n                limit -= chunk.length;\n                if (limit <= 0) this.destroy();\n            }).resume();\n        });\n    }\n};\n// https://streams.spec.whatwg.org/#readablestream-locked\nfunction $23d1cdec594f9529$var$isLocked(self) {\n    // Consume is an implicit lock.\n    return self[$23d1cdec594f9529$var$kBody] && self[$23d1cdec594f9529$var$kBody].locked === true || self[$23d1cdec594f9529$var$kConsume];\n}\n// https://fetch.spec.whatwg.org/#body-unusable\nfunction $23d1cdec594f9529$var$isUnusable(self) {\n    return $l2MzW$pythonversioncheck7ed1514ejs1.isDisturbed(self) || $23d1cdec594f9529$var$isLocked(self);\n}\nasync function $23d1cdec594f9529$var$consume(stream, type) {\n    if ($23d1cdec594f9529$var$isUnusable(stream)) throw new TypeError('unusable');\n    $l2MzW$assert(!stream[$23d1cdec594f9529$var$kConsume]);\n    return new Promise((resolve, reject)=>{\n        stream[$23d1cdec594f9529$var$kConsume] = {\n            type: type,\n            stream: stream,\n            resolve: resolve,\n            reject: reject,\n            length: 0,\n            body: []\n        };\n        stream.on('error', function(err) {\n            $23d1cdec594f9529$var$consumeFinish(this[$23d1cdec594f9529$var$kConsume], err);\n        }).on('close', function() {\n            if (this[$23d1cdec594f9529$var$kConsume].body !== null) $23d1cdec594f9529$var$consumeFinish(this[$23d1cdec594f9529$var$kConsume], new $23d1cdec594f9529$require$RequestAbortedError());\n        });\n        process.nextTick($23d1cdec594f9529$var$consumeStart, stream[$23d1cdec594f9529$var$kConsume]);\n    });\n}\nfunction $23d1cdec594f9529$var$consumeStart(consume) {\n    if (consume.body === null) return;\n    const { _readableState: state } = consume.stream;\n    for (const chunk of state.buffer)$23d1cdec594f9529$var$consumePush(consume, chunk);\n    if (state.endEmitted) $23d1cdec594f9529$var$consumeEnd(this[$23d1cdec594f9529$var$kConsume]);\n    else consume.stream.on('end', function() {\n        $23d1cdec594f9529$var$consumeEnd(this[$23d1cdec594f9529$var$kConsume]);\n    });\n    consume.stream.resume();\n    while(consume.stream.read() != null);\n}\n\nfunction $23d1cdec594f9529$var$consumeEnd(consume) {\n    const { type: type, body: body, resolve: resolve, stream: stream, length: length } = consume;\n    try {\n        if (type === 'text') resolve($23d1cdec594f9529$require$toUSVString(Buffer.concat(body)));\n        else if (type === 'json') resolve(JSON.parse(Buffer.concat(body)));\n        else if (type === 'arrayBuffer') {\n            const dst = new Uint8Array(length);\n            let pos = 0;\n            for (const buf of body){\n                dst.set(buf, pos);\n                pos += buf.byteLength;\n            }\n            resolve(dst.buffer);\n        } else if (type === 'blob') {\n            if (!$23d1cdec594f9529$var$Blob) $23d1cdec594f9529$var$Blob = $23d1cdec594f9529$import$cd48bd974321eed$3b660928c86ff55c;\n            resolve(new $23d1cdec594f9529$var$Blob(body, {\n                type: stream[$23d1cdec594f9529$var$kContentType]\n            }));\n        }\n        $23d1cdec594f9529$var$consumeFinish(consume);\n    } catch (err) {\n        stream.destroy(err);\n    }\n}\nfunction $23d1cdec594f9529$var$consumePush(consume, chunk) {\n    consume.length += chunk.length;\n    consume.body.push(chunk);\n}\nfunction $23d1cdec594f9529$var$consumeFinish(consume, err) {\n    if (consume.body === null) return;\n    if (err) consume.reject(err);\n    else consume.resolve();\n    consume.type = null;\n    consume.stream = null;\n    consume.resolve = null;\n    consume.reject = null;\n    consume.length = 0;\n    consume.body = null;\n}\n\n\nexport {$23d1cdec594f9529$exports as default};\n//# sourceMappingURL=python-version-check.ce83c418.js.map\n","// Ported from https://github.com/nodejs/undici/pull/907\n\n'use strict'\n\nconst assert = require('assert')\nconst { Readable } = require('stream')\nconst { RequestAbortedError, NotSupportedError, InvalidArgumentError } = require('../core/errors')\nconst util = require('../core/util')\nconst { ReadableStreamFrom, toUSVString } = require('../core/util')\n\nlet Blob\n\nconst kConsume = Symbol('kConsume')\nconst kReading = Symbol('kReading')\nconst kBody = Symbol('kBody')\nconst kAbort = Symbol('abort')\nconst kContentType = Symbol('kContentType')\n\nconst noop = () => {}\n\nmodule.exports = class BodyReadable extends Readable {\n  constructor ({\n    resume,\n    abort,\n    contentType = '',\n    highWaterMark = 64 * 1024 // Same as nodejs fs streams.\n  }) {\n    super({\n      autoDestroy: true,\n      read: resume,\n      highWaterMark\n    })\n\n    this._readableState.dataEmitted = false\n\n    this[kAbort] = abort\n    this[kConsume] = null\n    this[kBody] = null\n    this[kContentType] = contentType\n\n    // Is stream being consumed through Readable API?\n    // This is an optimization so that we avoid checking\n    // for 'data' and 'readable' listeners in the hot path\n    // inside push().\n    this[kReading] = false\n  }\n\n  destroy (err) {\n    if (this.destroyed) {\n      // Node < 16\n      return this\n    }\n\n    if (!err && !this._readableState.endEmitted) {\n      err = new RequestAbortedError()\n    }\n\n    if (err) {\n      this[kAbort]()\n    }\n\n    return super.destroy(err)\n  }\n\n  emit (ev, ...args) {\n    if (ev === 'data') {\n      // Node < 16.7\n      this._readableState.dataEmitted = true\n    } else if (ev === 'error') {\n      // Node < 16\n      this._readableState.errorEmitted = true\n    }\n    return super.emit(ev, ...args)\n  }\n\n  on (ev, ...args) {\n    if (ev === 'data' || ev === 'readable') {\n      this[kReading] = true\n    }\n    return super.on(ev, ...args)\n  }\n\n  addListener (ev, ...args) {\n    return this.on(ev, ...args)\n  }\n\n  off (ev, ...args) {\n    const ret = super.off(ev, ...args)\n    if (ev === 'data' || ev === 'readable') {\n      this[kReading] = (\n        this.listenerCount('data') > 0 ||\n        this.listenerCount('readable') > 0\n      )\n    }\n    return ret\n  }\n\n  removeListener (ev, ...args) {\n    return this.off(ev, ...args)\n  }\n\n  push (chunk) {\n    if (this[kConsume] && chunk !== null && this.readableLength === 0) {\n      consumePush(this[kConsume], chunk)\n      return this[kReading] ? super.push(chunk) : true\n    }\n    return super.push(chunk)\n  }\n\n  // https://fetch.spec.whatwg.org/#dom-body-text\n  async text () {\n    return consume(this, 'text')\n  }\n\n  // https://fetch.spec.whatwg.org/#dom-body-json\n  async json () {\n    return consume(this, 'json')\n  }\n\n  // https://fetch.spec.whatwg.org/#dom-body-blob\n  async blob () {\n    return consume(this, 'blob')\n  }\n\n  // https://fetch.spec.whatwg.org/#dom-body-arraybuffer\n  async arrayBuffer () {\n    return consume(this, 'arrayBuffer')\n  }\n\n  // https://fetch.spec.whatwg.org/#dom-body-formdata\n  async formData () {\n    // TODO: Implement.\n    throw new NotSupportedError()\n  }\n\n  // https://fetch.spec.whatwg.org/#dom-body-bodyused\n  get bodyUsed () {\n    return util.isDisturbed(this)\n  }\n\n  // https://fetch.spec.whatwg.org/#dom-body-body\n  get body () {\n    if (!this[kBody]) {\n      this[kBody] = ReadableStreamFrom(this)\n      if (this[kConsume]) {\n        // TODO: Is this the best way to force a lock?\n        this[kBody].getReader() // Ensure stream is locked.\n        assert(this[kBody].locked)\n      }\n    }\n    return this[kBody]\n  }\n\n  dump (opts) {\n    let limit = opts && Number.isFinite(opts.limit) ? opts.limit : 262144\n    const signal = opts && opts.signal\n\n    if (signal) {\n      try {\n        if (typeof signal !== 'object' || !('aborted' in signal)) {\n          throw new InvalidArgumentError('signal must be an AbortSignal')\n        }\n        util.throwIfAborted(signal)\n      } catch (err) {\n        return Promise.reject(err)\n      }\n    }\n\n    if (this.closed) {\n      return Promise.resolve(null)\n    }\n\n    return new Promise((resolve, reject) => {\n      const signalListenerCleanup = signal\n        ? util.addAbortListener(signal, () => {\n          this.destroy()\n        })\n        : noop\n\n      this\n        .on('close', function () {\n          signalListenerCleanup()\n          if (signal && signal.aborted) {\n            reject(signal.reason || Object.assign(new Error('The operation was aborted'), { name: 'AbortError' }))\n          } else {\n            resolve(null)\n          }\n        })\n        .on('error', noop)\n        .on('data', function (chunk) {\n          limit -= chunk.length\n          if (limit <= 0) {\n            this.destroy()\n          }\n        })\n        .resume()\n    })\n  }\n}\n\n// https://streams.spec.whatwg.org/#readablestream-locked\nfunction isLocked (self) {\n  // Consume is an implicit lock.\n  return (self[kBody] && self[kBody].locked === true) || self[kConsume]\n}\n\n// https://fetch.spec.whatwg.org/#body-unusable\nfunction isUnusable (self) {\n  return util.isDisturbed(self) || isLocked(self)\n}\n\nasync function consume (stream, type) {\n  if (isUnusable(stream)) {\n    throw new TypeError('unusable')\n  }\n\n  assert(!stream[kConsume])\n\n  return new Promise((resolve, reject) => {\n    stream[kConsume] = {\n      type,\n      stream,\n      resolve,\n      reject,\n      length: 0,\n      body: []\n    }\n\n    stream\n      .on('error', function (err) {\n        consumeFinish(this[kConsume], err)\n      })\n      .on('close', function () {\n        if (this[kConsume].body !== null) {\n          consumeFinish(this[kConsume], new RequestAbortedError())\n        }\n      })\n\n    process.nextTick(consumeStart, stream[kConsume])\n  })\n}\n\nfunction consumeStart (consume) {\n  if (consume.body === null) {\n    return\n  }\n\n  const { _readableState: state } = consume.stream\n\n  for (const chunk of state.buffer) {\n    consumePush(consume, chunk)\n  }\n\n  if (state.endEmitted) {\n    consumeEnd(this[kConsume])\n  } else {\n    consume.stream.on('end', function () {\n      consumeEnd(this[kConsume])\n    })\n  }\n\n  consume.stream.resume()\n\n  while (consume.stream.read() != null) {\n    // Loop\n  }\n}\n\nfunction consumeEnd (consume) {\n  const { type, body, resolve, stream, length } = consume\n\n  try {\n    if (type === 'text') {\n      resolve(toUSVString(Buffer.concat(body)))\n    } else if (type === 'json') {\n      resolve(JSON.parse(Buffer.concat(body)))\n    } else if (type === 'arrayBuffer') {\n      const dst = new Uint8Array(length)\n\n      let pos = 0\n      for (const buf of body) {\n        dst.set(buf, pos)\n        pos += buf.byteLength\n      }\n\n      resolve(dst.buffer)\n    } else if (type === 'blob') {\n      if (!Blob) {\n        Blob = require('buffer').Blob\n      }\n      resolve(new Blob(body, { type: stream[kContentType] }))\n    }\n\n    consumeFinish(consume)\n  } catch (err) {\n    stream.destroy(err)\n  }\n}\n\nfunction consumePush (consume, chunk) {\n  consume.length += chunk.length\n  consume.body.push(chunk)\n}\n\nfunction consumeFinish (consume, err) {\n  if (consume.body === null) {\n    return\n  }\n\n  if (err) {\n    consume.reject(err)\n  } else {\n    consume.resolve()\n  }\n\n  consume.type = null\n  consume.stream = null\n  consume.resolve = null\n  consume.reject = null\n  consume.length = 0\n  consume.body = null\n}\n"],"names":["$23d1cdec594f9529$var$Blob","$l2MzW$pythonversioncheckdba5a2d4js2","$l2MzW$pythonversioncheck7ed1514ejs4","$l2MzW$assert","Readable","$l2MzW$Readable","$23d1cdec594f9529$exports","$23d1cdec594f9529$require$Readable","$23d1cdec594f9529$require$RequestAbortedError","RequestAbortedError","$23d1cdec594f9529$require$NotSupportedError","$l2MzW$pythonversioncheckdba5a2d4js1","NotSupportedError","$23d1cdec594f9529$require$InvalidArgumentError","$l2MzW$pythonversioncheckdba5a2d4js","InvalidArgumentError","$23d1cdec594f9529$require$ReadableStreamFrom","$l2MzW$pythonversioncheck7ed1514ejs2","ReadableStreamFrom","$23d1cdec594f9529$require$toUSVString","toUSVString","$23d1cdec594f9529$var$kConsume","Symbol","$23d1cdec594f9529$var$kReading","$23d1cdec594f9529$var$kBody","$23d1cdec594f9529$var$kAbort","$23d1cdec594f9529$var$kContentType","$23d1cdec594f9529$var$noop","$23d1cdec594f9529$var$consume","stream","type","self","$l2MzW$pythonversioncheck7ed1514ejs1","isDisturbed","locked","TypeError","Promise","resolve","reject","length","body","on","err","$23d1cdec594f9529$var$consumeFinish","process","nextTick","$23d1cdec594f9529$var$consumeStart","consume","_readableState","state","chunk","buffer","$23d1cdec594f9529$var$consumePush","endEmitted","$23d1cdec594f9529$var$consumeEnd","resume","read","Buffer","concat","JSON","parse","dst","Uint8Array","pos","buf","set","byteLength","$23d1cdec594f9529$import$cd48bd974321eed$3b660928c86ff55c","destroy","push","abort","contentType","highWaterMark","autoDestroy","dataEmitted","destroyed","emit","ev","args","errorEmitted","addListener","off","ret","listenerCount","removeListener","readableLength","text","json","blob","arrayBuffer","formData","bodyUsed","getReader","dump","opts","limit","Number","isFinite","signal","$l2MzW$pythonversioncheck7ed1514ejs3","throwIfAborted","closed","signalListenerCleanup","$l2MzW$pythonversioncheck7ed1514ejs","addAbortListener","aborted","reason","Object","assign","Error","name","default"],"version":3,"file":"python-version-check.ce83c418.js.map","sourceRoot":"../"}