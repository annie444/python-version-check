import{EOL as t}from"os";import{promises as e,constants as r}from"fs";var a={},i=a&&a.__awaiter||function(t,e,r,a){return new(r||(r=Promise))(function(i,s){function n(t){try{h(a.next(t))}catch(t){s(t)}}function d(t){try{h(a.throw(t))}catch(t){s(t)}}function h(t){var e;t.done?i(t.value):((e=t.value)instanceof r?e:new r(function(t){t(e)})).then(n,d)}h((a=a.apply(t,e||[])).next())})};Object.defineProperty(a,"__esModule",{value:!0}),a.summary=a.markdownSummary=a.SUMMARY_DOCS_URL=a.SUMMARY_ENV_VAR=void 0;let{access:s,appendFile:n,writeFile:d}=e;a.SUMMARY_ENV_VAR="GITHUB_STEP_SUMMARY",a.SUMMARY_DOCS_URL="https://docs.github.com/actions/using-workflows/workflow-commands-for-github-actions#adding-a-job-summary";let h=new class{constructor(){this._buffer=""}filePath(){return i(this,void 0,void 0,function*(){if(this._filePath)return this._filePath;let t=process.env[a.SUMMARY_ENV_VAR];if(!t)throw Error(`Unable to find environment variable for $${a.SUMMARY_ENV_VAR}. Check if your runtime environment supports job summaries.`);try{yield s(t,r.R_OK|r.W_OK)}catch(e){throw Error(`Unable to access summary file: '${t}'. Check if the file has correct read/write permissions.`)}return this._filePath=t,this._filePath})}wrap(t,e,r={}){let a=Object.entries(r).map(([t,e])=>` ${t}="${e}"`).join("");return e?`<${t}${a}>${e}</${t}>`:`<${t}${a}>`}write(t){return i(this,void 0,void 0,function*(){let e=!!(null==t?void 0:t.overwrite),r=yield this.filePath();return yield(e?d:n)(r,this._buffer,{encoding:"utf8"}),this.emptyBuffer()})}clear(){return i(this,void 0,void 0,function*(){return this.emptyBuffer().write({overwrite:!0})})}stringify(){return this._buffer}isEmptyBuffer(){return 0===this._buffer.length}emptyBuffer(){return this._buffer="",this}addRaw(t,e=!1){return this._buffer+=t,e?this.addEOL():this}addEOL(){return this.addRaw(t)}addCodeBlock(t,e){let r=Object.assign({},e&&{lang:e}),a=this.wrap("pre",this.wrap("code",t),r);return this.addRaw(a).addEOL()}addList(t,e=!1){let r=t.map(t=>this.wrap("li",t)).join(""),a=this.wrap(e?"ol":"ul",r);return this.addRaw(a).addEOL()}addTable(t){let e=t.map(t=>{let e=t.map(t=>{if("string"==typeof t)return this.wrap("td",t);let{header:e,data:r,colspan:a,rowspan:i}=t,s=Object.assign(Object.assign({},a&&{colspan:a}),i&&{rowspan:i});return this.wrap(e?"th":"td",r,s)}).join("");return this.wrap("tr",e)}).join(""),r=this.wrap("table",e);return this.addRaw(r).addEOL()}addDetails(t,e){let r=this.wrap("details",this.wrap("summary",t)+e);return this.addRaw(r).addEOL()}addImage(t,e,r){let{width:a,height:i}=r||{},s=Object.assign(Object.assign({},a&&{width:a}),i&&{height:i}),n=this.wrap("img",null,Object.assign({src:t,alt:e},s));return this.addRaw(n).addEOL()}addHeading(t,e){let r=`h${e}`,a=["h1","h2","h3","h4","h5","h6"].includes(r)?r:"h1",i=this.wrap(a,t);return this.addRaw(i).addEOL()}addSeparator(){let t=this.wrap("hr",null);return this.addRaw(t).addEOL()}addBreak(){let t=this.wrap("br",null);return this.addRaw(t).addEOL()}addQuote(t,e){let r=Object.assign({},e&&{cite:e}),a=this.wrap("blockquote",t,r);return this.addRaw(a).addEOL()}addLink(t,e){let r=this.wrap("a",t,{href:e});return this.addRaw(r).addEOL()}};a.markdownSummary=h,a.summary=h;export{a as default};
//# sourceMappingURL=python-version-check.e89df45d.js.map
