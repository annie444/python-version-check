let t;import e from"./python-version-check.ebf2a848.js";import n from"./python-version-check.dba5a2d4.js";import r from"./python-version-check.4c376cdf.js";import*as o from"assert";import{IncomingMessage as i}from"http";import{isDisturbed as a,isErrored as s,isReadable as l}from"stream";import{isIP as f}from"net";import{Blob as u}from"buffer";import{inspect as d,toUSVString as c}from"util";import{stringify as p}from"querystring";import{ReadableStream as m}from"stream/web";var h={},y=e.kDestroyed,b=$kSwOc$pythonversioncheckebf2a848js.kBodyUsed,g=n.InvalidArgumentError,w=r.headerNameLowerCasedRecord;let[S,v]=process.versions.node.split(".").map(t=>Number(t));function R(t){return t&&"object"==typeof t&&"function"==typeof t.pipe&&"function"==typeof t.on}function L(t){return u&&t instanceof u||t&&"object"==typeof t&&("function"==typeof t.stream||"function"==typeof t.arrayBuffer)&&/^(Blob|File)$/.test(t[Symbol.toStringTag])}function A(t){if("string"==typeof t){if(t=new URL(t),!/^https?:/.test(t.origin||t.protocol))throw new g("Invalid URL protocol: the URL must start with `http:` or `https:`.");return t}if(!t||"object"!=typeof t)throw new g("Invalid URL: The URL argument must be a non-null object.");if(!/^https?:/.test(t.origin||t.protocol))throw new g("Invalid URL protocol: the URL must start with `http:` or `https:`.");if(!(t instanceof URL)){if(null!=t.port&&""!==t.port&&!Number.isFinite(parseInt(t.port)))throw new g("Invalid URL: port must be a valid integer or a string representation of an integer.");if(null!=t.path&&"string"!=typeof t.path)throw new g("Invalid URL path: the path must be a string or null/undefined.");if(null!=t.pathname&&"string"!=typeof t.pathname)throw new g("Invalid URL pathname: the pathname must be a string or null/undefined.");if(null!=t.hostname&&"string"!=typeof t.hostname)throw new g("Invalid URL hostname: the hostname must be a string or null/undefined.");if(null!=t.origin&&"string"!=typeof t.origin)throw new g("Invalid URL origin: the origin must be a string or null/undefined.");let e=null!=t.port?t.port:"https:"===t.protocol?443:80,n=null!=t.origin?t.origin:`${t.protocol}//${t.hostname}:${e}`,r=null!=t.path?t.path:`${t.pathname||""}${t.search||""}`;n.endsWith("/")&&(n=n.substring(0,n.length-1)),r&&!r.startsWith("/")&&(r=`/${r}`),t=new URL(n+r)}return t}function I(t){return!t||!!(t.destroyed||t[y])}function E(t){let e=t&&t._readableState;return I(t)&&e&&!e.endEmitted}let U=/timeout=(\d+)/;function B(t){return t instanceof Uint8Array||Buffer.isBuffer(t)}async function*H(t){for await(let e of t)yield Buffer.isBuffer(e)?e:Buffer.from(e)}let j=!!String.prototype.toWellFormed,F=Object.create(null);F.enumerable=!0,h={kEnumerableProperty:F,nop:function(){},isDisturbed:function(t){return!!(t&&(a?a(t)||t[b]:t[b]||t.readableDidRead||t._readableState&&t._readableState.dataEmitted||E(t)))},isErrored:function(t){return!!(t&&(s?s(t):/state: 'errored'/.test(d(t))))},isReadable:function(t){return!!(t&&(l?l(t):/state: 'readable'/.test(d(t))))},toUSVString:function(t){return j?`${t}`.toWellFormed():c?c(t):`${t}`},isReadableAborted:E,isBlobLike:L,parseOrigin:function(t){if("/"!==(t=A(t)).pathname||t.search||t.hash)throw new g("invalid url");return t},parseURL:A,getServerName:function(t){if(!t)return null;o.strictEqual(typeof t,"string");let e=function(t){if("["===t[0]){let e=t.indexOf("]");return o(-1!==e),t.substring(1,e)}let e=t.indexOf(":");return -1===e?t:t.substring(0,e)}(t);return f(e)?"":e},isStream:R,isIterable:function(t){return null!=t&&("function"==typeof t[Symbol.iterator]||"function"==typeof t[Symbol.asyncIterator])},isAsyncIterable:function(t){return null!=t&&"function"==typeof t[Symbol.asyncIterator]},isDestroyed:I,headerNameToString:function(t){return w[t]||t.toLowerCase()},parseRawHeaders:function(t){let e=[],n=!1,r=-1;for(let o=0;o<t.length;o+=2){let i=t[o+0].toString(),a=t[o+1].toString("utf8");14===i.length&&("content-length"===i||"content-length"===i.toLowerCase())?(e.push(i,a),n=!0):19===i.length&&("content-disposition"===i||"content-disposition"===i.toLowerCase())?r=e.push(i,a)-1:e.push(i,a)}return n&&-1!==r&&(e[r]=Buffer.from(e[r]).toString("latin1")),e},parseHeaders:function(t,e={}){if(!Array.isArray(t))return t;for(let n=0;n<t.length;n+=2){let r=t[n].toString().toLowerCase(),o=e[r];o?(Array.isArray(o)||(o=[o],e[r]=o),o.push(t[n+1].toString("utf8"))):Array.isArray(t[n+1])?e[r]=t[n+1].map(t=>t.toString("utf8")):e[r]=t[n+1].toString("utf8")}return"content-length"in e&&"content-disposition"in e&&(e["content-disposition"]=Buffer.from(e["content-disposition"]).toString("latin1")),e},parseKeepAliveTimeout:function(t){let e=t.toString().match(U);return e?1e3*parseInt(e[1],10):null},destroy:function(t,e){null==t||!R(t)||I(t)||("function"==typeof t.destroy?(Object.getPrototypeOf(t).constructor===i&&(t.socket=null),t.destroy(e)):e&&process.nextTick((t,e)=>{t.emit("error",e)},t,e),!0!==t.destroyed&&(t[y]=!0))},bodyLength:function(t){if(null==t)return 0;if(R(t)){let e=t._readableState;return e&&!1===e.objectMode&&!0===e.ended&&Number.isFinite(e.length)?e.length:null}return L(t)?null!=t.size?t.size:null:B(t)?t.byteLength:null},deepClone:function(t){return JSON.parse(JSON.stringify(t))},ReadableStreamFrom:function(e){let n;return(t||(t=m),t.from)?t.from(H(e)):new t({async start(){n=e[Symbol.asyncIterator]()},async pull(t){let{done:e,value:r}=await n.next();if(e)queueMicrotask(()=>{t.close()});else{let e=Buffer.isBuffer(r)?r:Buffer.from(r);t.enqueue(new Uint8Array(e))}return t.desiredSize>0},async cancel(t){await n.return()}},0)},isBuffer:B,validateHandler:function(t,e,n){if(!t||"object"!=typeof t)throw new g("handler must be an object");if("function"!=typeof t.onConnect)throw new g("invalid onConnect method");if("function"!=typeof t.onError)throw new g("invalid onError method");if("function"!=typeof t.onBodySent&&void 0!==t.onBodySent)throw new g("invalid onBodySent method");if(n||"CONNECT"===e){if("function"!=typeof t.onUpgrade)throw new g("invalid onUpgrade method")}else{if("function"!=typeof t.onHeaders)throw new g("invalid onHeaders method");if("function"!=typeof t.onData)throw new g("invalid onData method");if("function"!=typeof t.onComplete)throw new g("invalid onComplete method")}},getSocketInfo:function(t){return{localAddress:t.localAddress,localPort:t.localPort,remoteAddress:t.remoteAddress,remotePort:t.remotePort,remoteFamily:t.remoteFamily,timeout:t.timeout,bytesWritten:t.bytesWritten,bytesRead:t.bytesRead}},isFormDataLike:function(t){return t&&"object"==typeof t&&"function"==typeof t.append&&"function"==typeof t.delete&&"function"==typeof t.get&&"function"==typeof t.getAll&&"function"==typeof t.has&&"function"==typeof t.set&&"FormData"===t[Symbol.toStringTag]},buildURL:function(t,e){if(t.includes("?")||t.includes("#"))throw Error('Query params cannot be passed when url already contains "?" or "#".');let n=p(e);return n&&(t+="?"+n),t},throwIfAborted:function(t){if(t){if("function"==typeof t.throwIfAborted)t.throwIfAborted();else if(t.aborted){let t=Error("The operation was aborted");throw t.name="AbortError",t}}},addAbortListener:function(t,e){return"addEventListener"in t?(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)):(t.addListener("abort",e),()=>t.removeListener("abort",e))},parseRangeHeader:function(t){if(null==t||""===t)return{start:0,end:null,size:null};let e=t?t.match(/^bytes (\d+)-(\d+)\/(\d+)?$/):null;return e?{start:parseInt(e[1]),end:e[2]?parseInt(e[2]):null,size:e[3]?parseInt(e[3]):null}:null},nodeMajor:S,nodeMinor:v,nodeHasAutoSelectFamily:S>18||18===S&&v>=13,safeHTTPMethods:["GET","HEAD","OPTIONS","TRACE"]};export{h as default};
//# sourceMappingURL=python-version-check.7ed1514e.js.map
