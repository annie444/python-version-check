{"mappings":"A,O,M,qD,A,Q,M,qD,A,Q,M,qD,A,Q,M,qD,A,Q,M,qD,A,Q,M,qD,C,I,E,C,ECEM,EAAA,EAAA,QAAA,CAAA,EAAA,sDAAA,QAAA,CAAA,EAAA,sDAAA,UAAA,CAAA,EAAA,qDAAA,UAAA,CAAA,EAAA,sDAAA,cAAA,CAQA,EAAA,EAAA,oBAAA,CAIA,EAAA,EAAA,IAAA,CAAA,EAAA,qDAAA,aAAA,CAGN,IAAM,EAAW,OAAO,WAClB,EAAe,OAAO,eACtB,EAAW,OAAO,WAExB,SAAS,EAAgB,CAAM,CAAE,CAAI,EACnC,OAAO,IAAI,EAAO,EAAQ,EAC5B,CAoFA,EAlFA,cAAA,EACE,YAAa,CAAM,CAAE,CAAA,YACnB,CAAW,CAAA,QACX,EAAU,CAAA,CAAA,QACV,CAAO,CAAA,eACP,CAAc,CAAA,IACd,CAAG,CAAA,kBACH,CAAiB,CAAA,WACjB,CAAU,CAAA,iBACV,CAAgB,CAAA,+BAChB,CAA8B,CAAA,QAC9B,CAAO,CACP,GAAG,EACJ,CAAG,CAAC,CAAC,CAAE,CAGN,GAFA,KAAK,GAED,AAAe,MAAf,GAAwB,CAAA,CAAC,OAAO,QAAQ,CAAC,IAAgB,EAAc,CAAA,EACzE,MAAM,IAAA,EAAyB,uBAGjC,GAAI,AAAmB,YAAnB,OAAO,EACT,MAAM,IAAA,EAAyB,+BAGjC,GAAI,AAAW,MAAX,GAAmB,AAAmB,YAAnB,OAAO,GAA0B,AAAmB,UAAnB,OAAO,EAC7D,MAAM,IAAA,EAAyB,0CAG7B,AAAmB,CAAA,YAAnB,OAAO,GACT,CAAA,EAAU,EAAe,CACvB,GAAG,CAAG,CACN,kBAAA,EACA,QAAA,EACA,WAAA,EACA,QAAS,EACT,GAAI,sDAAA,uBAAA,EAAgC,EAAmB,CAAE,iBAAA,EAAkB,+BAAA,CAA+B,EAAI,KAAA,CAAS,CACvH,GAAG,CAAO,AACZ,EAAA,EAGF,IAAI,CAAA,EAAe,CAAG,EAAQ,YAAY,EAAI,EAAQ,YAAY,CAAC,IAAI,EAAI,MAAM,OAAO,CAAC,EAAQ,YAAY,CAAC,IAAI,EAC9G,EAAQ,YAAY,CAAC,IAAI,CACzB,EAAE,CACN,IAAI,CAAC,EAAa,CAAG,GAAe,KACpC,IAAI,CAAA,EAAM,CAAG,EAAA,WAAA,CAAiB,GAC9B,IAAI,CAAC,EAAS,CAAG,CAAE,GAAG,qDAAA,SAAA,CAAe,EAAQ,CAAE,QAAA,EAAS,QAAA,CAAQ,EAChE,IAAI,CAAC,EAAS,CAAC,YAAY,CAAG,EAAQ,YAAY,CAC9C,CAAE,GAAG,EAAQ,YAAY,AAAC,EAC1B,KAAA,EACJ,IAAI,CAAC,EAAS,CAAG,EAEjB,IAAI,CAAC,EAAE,CAAC,kBAAmB,CAAC,EAAQ,EAAS,KAI3C,IAAK,IAAM,KAAU,EAAS,CAG5B,IAAM,EAAM,IAAI,CAAA,EAAU,CAAC,OAAO,CAAC,EAC/B,AAAQ,CAAA,KAAR,GACF,IAAI,CAAA,EAAU,CAAC,MAAM,CAAC,EAAK,EAE/B,CACF,EACF,CAEA,CAAA,EAAgB,EAAI,CAClB,IAAI,EAAa,IAAI,CAAA,EAAU,CAAC,IAAI,CAAC,AAAA,GAAc,CAAC,CAAU,CAAA,EAAY,SAEtE,GAIA,CAAA,CAAC,IAAI,CAAC,EAAa,EAAI,IAAI,CAAA,EAAU,CAAC,MAAM,CAAG,IAAI,CAAC,EAAa,AAAb,IACtD,EAAa,IAAI,CAAC,EAAS,CAAC,IAAI,CAAA,EAAM,CAAE,IAAI,CAAC,EAAS,EACtD,IAAI,CAAA,EAAY,CAAC,IALV,CASX,CACF,S,K,O","sources":["<anon>","node_modules/.pnpm/undici@5.29.0/node_modules/undici/lib/pool.js"],"sourcesContent":["import $b1NmM$pythonversioncheck9d13d3ddjs4 from \"./python-version-check.9d13d3dd.js\";\nimport $b1NmM$pythonversioncheck171f2d6cjs from \"./python-version-check.171f2d6c.js\";\nimport $b1NmM$pythonversioncheckdba5a2d4js from \"./python-version-check.dba5a2d4.js\";\nimport $b1NmM$pythonversioncheck7ed1514ejs2 from \"./python-version-check.7ed1514e.js\";\nimport $b1NmM$pythonversioncheckebf2a848js1 from \"./python-version-check.ebf2a848.js\";\nimport $b1NmM$pythonversioncheck091f3542js from \"./python-version-check.091f3542.js\";\n\nvar $11f6c8c4c805eec9$exports = {};\n'use strict';\n\nvar $11f6c8c4c805eec9$require$PoolBase = $b1NmM$pythonversioncheck9d13d3ddjs4.PoolBase;\nvar $11f6c8c4c805eec9$require$kClients = $b1NmM$pythonversioncheck9d13d3ddjs1.kClients;\nvar $11f6c8c4c805eec9$require$kNeedDrain = $b1NmM$pythonversioncheck9d13d3ddjs3.kNeedDrain;\nvar $11f6c8c4c805eec9$require$kAddClient = $b1NmM$pythonversioncheck9d13d3ddjs.kAddClient;\nvar $11f6c8c4c805eec9$require$kGetDispatcher = $b1NmM$pythonversioncheck9d13d3ddjs2.kGetDispatcher;\n\n\nvar $11f6c8c4c805eec9$require$InvalidArgumentError = $b1NmM$pythonversioncheckdba5a2d4js.InvalidArgumentError;\n\n\nvar $11f6c8c4c805eec9$require$kUrl = $b1NmM$pythonversioncheckebf2a848js1.kUrl;\nvar $11f6c8c4c805eec9$require$kInterceptors = $b1NmM$pythonversioncheckebf2a848js.kInterceptors;\n\nconst $11f6c8c4c805eec9$var$kOptions = Symbol('options');\nconst $11f6c8c4c805eec9$var$kConnections = Symbol('connections');\nconst $11f6c8c4c805eec9$var$kFactory = Symbol('factory');\nfunction $11f6c8c4c805eec9$var$defaultFactory(origin, opts) {\n    return new $b1NmM$pythonversioncheck171f2d6cjs(origin, opts);\n}\nclass $11f6c8c4c805eec9$var$Pool extends $11f6c8c4c805eec9$require$PoolBase {\n    constructor(origin, { connections: connections, factory: factory = $11f6c8c4c805eec9$var$defaultFactory, connect: connect, connectTimeout: connectTimeout, tls: tls, maxCachedSessions: maxCachedSessions, socketPath: socketPath, autoSelectFamily: autoSelectFamily, autoSelectFamilyAttemptTimeout: autoSelectFamilyAttemptTimeout, allowH2: allowH2, ...options } = {}){\n        super();\n        if (connections != null && (!Number.isFinite(connections) || connections < 0)) throw new $11f6c8c4c805eec9$require$InvalidArgumentError('invalid connections');\n        if (typeof factory !== 'function') throw new $11f6c8c4c805eec9$require$InvalidArgumentError('factory must be a function.');\n        if (connect != null && typeof connect !== 'function' && typeof connect !== 'object') throw new $11f6c8c4c805eec9$require$InvalidArgumentError('connect must be a function or an object');\n        if (typeof connect !== 'function') connect = $b1NmM$pythonversioncheck091f3542js({\n            ...tls,\n            maxCachedSessions: maxCachedSessions,\n            allowH2: allowH2,\n            socketPath: socketPath,\n            timeout: connectTimeout,\n            ...$b1NmM$pythonversioncheck7ed1514ejs1.nodeHasAutoSelectFamily && autoSelectFamily ? {\n                autoSelectFamily: autoSelectFamily,\n                autoSelectFamilyAttemptTimeout: autoSelectFamilyAttemptTimeout\n            } : undefined,\n            ...connect\n        });\n        this[$11f6c8c4c805eec9$require$kInterceptors] = options.interceptors && options.interceptors.Pool && Array.isArray(options.interceptors.Pool) ? options.interceptors.Pool : [];\n        this[$11f6c8c4c805eec9$var$kConnections] = connections || null;\n        this[$11f6c8c4c805eec9$require$kUrl] = $b1NmM$pythonversioncheck7ed1514ejs2.parseOrigin(origin);\n        this[$11f6c8c4c805eec9$var$kOptions] = {\n            ...$b1NmM$pythonversioncheck7ed1514ejs.deepClone(options),\n            connect: connect,\n            allowH2: allowH2\n        };\n        this[$11f6c8c4c805eec9$var$kOptions].interceptors = options.interceptors ? {\n            ...options.interceptors\n        } : undefined;\n        this[$11f6c8c4c805eec9$var$kFactory] = factory;\n        this.on('connectionError', (origin, targets, error)=>{\n            // If a connection error occurs, we remove the client from the pool,\n            // and emit a connectionError event. They will not be re-used.\n            // Fixes https://github.com/nodejs/undici/issues/3895\n            for (const target of targets){\n                // Do not use kRemoveClient here, as it will close the client,\n                // but the client cannot be closed in this state.\n                const idx = this[$11f6c8c4c805eec9$require$kClients].indexOf(target);\n                if (idx !== -1) this[$11f6c8c4c805eec9$require$kClients].splice(idx, 1);\n            }\n        });\n    }\n    [$11f6c8c4c805eec9$require$kGetDispatcher]() {\n        let dispatcher = this[$11f6c8c4c805eec9$require$kClients].find((dispatcher)=>!dispatcher[$11f6c8c4c805eec9$require$kNeedDrain]);\n        if (dispatcher) return dispatcher;\n        if (!this[$11f6c8c4c805eec9$var$kConnections] || this[$11f6c8c4c805eec9$require$kClients].length < this[$11f6c8c4c805eec9$var$kConnections]) {\n            dispatcher = this[$11f6c8c4c805eec9$var$kFactory](this[$11f6c8c4c805eec9$require$kUrl], this[$11f6c8c4c805eec9$var$kOptions]);\n            this[$11f6c8c4c805eec9$require$kAddClient](dispatcher);\n        }\n        return dispatcher;\n    }\n}\n$11f6c8c4c805eec9$exports = $11f6c8c4c805eec9$var$Pool;\n\n\nexport {$11f6c8c4c805eec9$exports as default};\n//# sourceMappingURL=python-version-check.91f60e5c.js.map\n","'use strict'\n\nconst {\n  PoolBase,\n  kClients,\n  kNeedDrain,\n  kAddClient,\n  kGetDispatcher\n} = require('./pool-base')\nconst Client = require('./client')\nconst {\n  InvalidArgumentError\n} = require('./core/errors')\nconst util = require('./core/util')\nconst { kUrl, kInterceptors } = require('./core/symbols')\nconst buildConnector = require('./core/connect')\n\nconst kOptions = Symbol('options')\nconst kConnections = Symbol('connections')\nconst kFactory = Symbol('factory')\n\nfunction defaultFactory (origin, opts) {\n  return new Client(origin, opts)\n}\n\nclass Pool extends PoolBase {\n  constructor (origin, {\n    connections,\n    factory = defaultFactory,\n    connect,\n    connectTimeout,\n    tls,\n    maxCachedSessions,\n    socketPath,\n    autoSelectFamily,\n    autoSelectFamilyAttemptTimeout,\n    allowH2,\n    ...options\n  } = {}) {\n    super()\n\n    if (connections != null && (!Number.isFinite(connections) || connections < 0)) {\n      throw new InvalidArgumentError('invalid connections')\n    }\n\n    if (typeof factory !== 'function') {\n      throw new InvalidArgumentError('factory must be a function.')\n    }\n\n    if (connect != null && typeof connect !== 'function' && typeof connect !== 'object') {\n      throw new InvalidArgumentError('connect must be a function or an object')\n    }\n\n    if (typeof connect !== 'function') {\n      connect = buildConnector({\n        ...tls,\n        maxCachedSessions,\n        allowH2,\n        socketPath,\n        timeout: connectTimeout,\n        ...(util.nodeHasAutoSelectFamily && autoSelectFamily ? { autoSelectFamily, autoSelectFamilyAttemptTimeout } : undefined),\n        ...connect\n      })\n    }\n\n    this[kInterceptors] = options.interceptors && options.interceptors.Pool && Array.isArray(options.interceptors.Pool)\n      ? options.interceptors.Pool\n      : []\n    this[kConnections] = connections || null\n    this[kUrl] = util.parseOrigin(origin)\n    this[kOptions] = { ...util.deepClone(options), connect, allowH2 }\n    this[kOptions].interceptors = options.interceptors\n      ? { ...options.interceptors }\n      : undefined\n    this[kFactory] = factory\n\n    this.on('connectionError', (origin, targets, error) => {\n      // If a connection error occurs, we remove the client from the pool,\n      // and emit a connectionError event. They will not be re-used.\n      // Fixes https://github.com/nodejs/undici/issues/3895\n      for (const target of targets) {\n        // Do not use kRemoveClient here, as it will close the client,\n        // but the client cannot be closed in this state.\n        const idx = this[kClients].indexOf(target)\n        if (idx !== -1) {\n          this[kClients].splice(idx, 1)\n        }\n      }\n    })\n  }\n\n  [kGetDispatcher] () {\n    let dispatcher = this[kClients].find(dispatcher => !dispatcher[kNeedDrain])\n\n    if (dispatcher) {\n      return dispatcher\n    }\n\n    if (!this[kConnections] || this[kClients].length < this[kConnections]) {\n      dispatcher = this[kFactory](this[kUrl], this[kOptions])\n      this[kAddClient](dispatcher)\n    }\n\n    return dispatcher\n  }\n}\n\nmodule.exports = Pool\n"],"names":["$b1NmM$pythonversioncheck9d13d3ddjs4","$b1NmM$pythonversioncheck171f2d6cjs","$b1NmM$pythonversioncheckdba5a2d4js","$b1NmM$pythonversioncheck7ed1514ejs2","$b1NmM$pythonversioncheckebf2a848js1","$b1NmM$pythonversioncheck091f3542js","$11f6c8c4c805eec9$exports","$11f6c8c4c805eec9$require$PoolBase","PoolBase","$11f6c8c4c805eec9$require$kClients","$b1NmM$pythonversioncheck9d13d3ddjs1","kClients","$11f6c8c4c805eec9$require$kNeedDrain","$b1NmM$pythonversioncheck9d13d3ddjs3","kNeedDrain","$11f6c8c4c805eec9$require$kAddClient","$b1NmM$pythonversioncheck9d13d3ddjs","kAddClient","$11f6c8c4c805eec9$require$kGetDispatcher","$b1NmM$pythonversioncheck9d13d3ddjs2","kGetDispatcher","$11f6c8c4c805eec9$require$InvalidArgumentError","InvalidArgumentError","$11f6c8c4c805eec9$require$kUrl","kUrl","$11f6c8c4c805eec9$require$kInterceptors","$b1NmM$pythonversioncheckebf2a848js","kInterceptors","$11f6c8c4c805eec9$var$kOptions","Symbol","$11f6c8c4c805eec9$var$kConnections","$11f6c8c4c805eec9$var$kFactory","$11f6c8c4c805eec9$var$defaultFactory","origin","opts","connections","factory","connect","connectTimeout","tls","maxCachedSessions","socketPath","autoSelectFamily","autoSelectFamilyAttemptTimeout","allowH2","options","Number","isFinite","timeout","$b1NmM$pythonversioncheck7ed1514ejs1","nodeHasAutoSelectFamily","undefined","interceptors","Pool","Array","isArray","parseOrigin","$b1NmM$pythonversioncheck7ed1514ejs","deepClone","on","targets","error","target","idx","indexOf","splice","dispatcher","find","length","default"],"version":3,"file":"python-version-check.91f60e5c.js.map","sourceRoot":"../"}