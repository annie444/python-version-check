import{EventEmitter as e}from"node:events";import{inherits as i}from"node:util";var t={};function o(e){if("string"==typeof e&&(e=Buffer.from(e)),!Buffer.isBuffer(e))throw TypeError("The needle has to be a String or a Buffer.");let i=e.length;if(0===i)throw Error("The needle cannot be an empty String/Buffer.");if(i>256)throw Error("The needle cannot have a length bigger than 256.");this.maxMatches=1/0,this.matches=0,this._occ=Array(256).fill(i),this._lookbehind_size=0,this._needle=e,this._bufpos=0,this._lookbehind=Buffer.alloc(i);for(var t=0;t<i-1;++t)this._occ[e[t]]=i-1-t}i(o,e),o.prototype.reset=function(){this._lookbehind_size=0,this.matches=0,this._bufpos=0},o.prototype.push=function(e,i){let t;Buffer.isBuffer(e)||(e=Buffer.from(e,"binary"));let o=e.length;for(this._bufpos=i||0;t!==o&&this.matches<this.maxMatches;)t=this._sbmh_feed(e);return t},o.prototype._sbmh_feed=function(e){let i,t=e.length,o=this._needle,h=o.length,s=o[h-1],r=-this._lookbehind_size;if(r<0){for(;r<0&&r<=t-h;){if((i=this._sbmh_lookup_char(e,r+h-1))===s&&this._sbmh_memcmp(e,r,h-1))return this._lookbehind_size=0,++this.matches,this.emit("info",!0),this._bufpos=r+h;r+=this._occ[i]}if(r<0)for(;r<0&&!this._sbmh_memcmp(e,r,t-r);)++r;if(r>=0)this.emit("info",!1,this._lookbehind,0,this._lookbehind_size),this._lookbehind_size=0;else{let i=this._lookbehind_size+r;return i>0&&this.emit("info",!1,this._lookbehind,0,i),this._lookbehind.copy(this._lookbehind,0,i,this._lookbehind_size-i),this._lookbehind_size-=i,e.copy(this._lookbehind,this._lookbehind_size),this._lookbehind_size+=t,this._bufpos=t,t}}if(r+=(r>=0)*this._bufpos,-1!==e.indexOf(o,r))return r=e.indexOf(o,r),++this.matches,r>0?this.emit("info",!0,e,this._bufpos,r):this.emit("info",!0),this._bufpos=r+h;for(r=t-h;r<t&&(e[r]!==o[0]||0!==Buffer.compare(e.subarray(r,r+t-r),o.subarray(0,t-r)));)++r;return r<t&&(e.copy(this._lookbehind,0,r,r+(t-r)),this._lookbehind_size=t-r),r>0&&this.emit("info",!1,e,this._bufpos,r<t?r:t),this._bufpos=t,t},o.prototype._sbmh_lookup_char=function(e,i){return i<0?this._lookbehind[this._lookbehind_size+i]:e[i]},o.prototype._sbmh_memcmp=function(e,i,t){for(var o=0;o<t;++o)if(this._sbmh_lookup_char(e,i+o)!==this._needle[o])return!1;return!0},t=o;export{t as default};
//# sourceMappingURL=python-version-check.2d65d83f.js.map
