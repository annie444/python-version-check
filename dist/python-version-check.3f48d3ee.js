let e;import t from"./python-version-check.863e006e.js";import r from"./python-version-check.b40ebe18.js";import n from"./python-version-check.7ed1514e.js";import{performance as o}from"perf_hooks";import*as i from"assert";import{isUint8Array as a}from"util/types";import{ReadableStream as s}from"stream/web";var l={},c=$asCiI$pythonversioncheck863e006ejs1.redirectStatusSet,u=t.referrerPolicySet,f=$asCiI$pythonversioncheck863e006ejs.badPortsSet,h=r.getGlobalOrigin,d=$asCiI$pythonversioncheck7ed1514ejs.isBlobLike,p=n.toUSVString,g=$asCiI$pythonversioncheck7ed1514ejs1.ReadableStreamFrom;let m=[];try{e=$d95f1312d796a183$import$2ba574d69762f442;let t=["sha256","sha384","sha512"];m=e.getHashes().filter(e=>t.includes(e))}catch{}function y(e){let t=e.urlList,r=t.length;return 0===r?null:t[r-1].toString()}function b(e){return e.urlList[e.urlList.length-1]}function S(e){if(0===e.length)return!1;for(let t=0;t<e.length;++t)if(!function(e){switch(e){case 34:case 40:case 41:case 44:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 123:case 125:return!1;default:return e>=33&&e<=126}}(e.charCodeAt(t)))return!1;return!0}function T(e){return!(e.startsWith("	")||e.startsWith(" ")||e.endsWith("	")||e.endsWith(" ")||e.includes("\0")||e.includes("\r")||e.includes("\n"))}function R(e,t){return(i(e instanceof URL),"file:"===e.protocol||"about:"===e.protocol||"blank:"===e.protocol)?"no-referrer":(e.username="",e.password="",e.hash="",t&&(e.pathname="",e.search=""),e)}function O(e){return e instanceof URL&&("about:blank"===e.href||"about:srcdoc"===e.href||"data:"===e.protocol||"file:"===e.protocol||function(e){if(null==e||"null"===e)return!1;let t=new URL(e);return!!("https:"===t.protocol||"wss:"===t.protocol||/^127(?:\.[0-9]+){0,2}\.[0-9]+$|^\[(?:0*:)*?:?0*1\]$/.test(t.hostname)||"localhost"===t.hostname||t.hostname.includes("localhost.")||t.hostname.endsWith(".localhost"))}(e.origin))}let k=/(?<algo>sha256|sha384|sha512)-((?<hash>[A-Za-z0-9+/]+|[A-Za-z0-9_-]+)={0,2}(?:\s|$)( +[!-~]*)?)?/i;function w(e){let t=[],r=!0;for(let n of e.split(" ")){r=!1;let e=k.exec(n);if(null===e||void 0===e.groups||void 0===e.groups.algo)continue;let o=e.groups.algo.toLowerCase();m.includes(o)&&t.push(e.groups)}return!0===r?"no metadata":t}function P(e,t){return e.origin===t.origin&&"null"===e.origin||e.protocol===t.protocol&&e.hostname===t.hostname&&e.port===t.port}let E={delete:"DELETE",DELETE:"DELETE",get:"GET",GET:"GET",head:"HEAD",HEAD:"HEAD",options:"OPTIONS",OPTIONS:"OPTIONS",post:"POST",POST:"POST",put:"PUT",PUT:"PUT"};Object.setPrototypeOf(E,null);let L=Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())),H=globalThis.ReadableStream;async function C(e){let t=[],r=0;for(;;){let{done:n,value:o}=await e.read();if(n)return Buffer.concat(t,r);if(!a(o))throw TypeError("Received non-Uint8Array chunk");t.push(o),r+=o.length}}function v(e){return"string"==typeof e?e.startsWith("https:"):"https:"===e.protocol}function A(e){i("protocol"in e);let t=e.protocol;return"http:"===t||"https:"===t}l={isAborted:function(e){return"aborted"===e.controller.state},isCancelled:function(e){return"aborted"===e.controller.state||"terminated"===e.controller.state},createDeferredPromise:function(){let e,t;return{promise:new Promise((r,n)=>{e=r,t=n}),resolve:e,reject:t}},ReadableStreamFrom:g,toUSVString:p,tryUpgradeRequestToAPotentiallyTrustworthyURL:function(e){},coarsenedSharedCurrentTime:function(e){return o.now()},determineRequestsReferrer:function(e){let t=e.referrerPolicy;i(t);let r=null;if("client"===e.referrer){let e=h();if(!e||"null"===e.origin)return"no-referrer";r=new URL(e)}else e.referrer instanceof URL&&(r=e.referrer);let n=R(r),o=R(r,!0);n.toString().length>4096&&(n=o);let a=P(e,n),s=O(n)&&!O(e.url);switch(t){case"origin":return null!=o?o:R(r,!0);case"unsafe-url":return n;case"same-origin":return a?o:"no-referrer";case"origin-when-cross-origin":return a?n:o;case"strict-origin-when-cross-origin":{let t=b(e);if(P(n,t))return n;if(O(n)&&!O(t))return"no-referrer";return o}default:return s?"no-referrer":o}},makePolicyContainer:function(){return{referrerPolicy:"strict-origin-when-cross-origin"}},clonePolicyContainer:function(e){return{referrerPolicy:e.referrerPolicy}},appendFetchMetadata:function(e){let t=null;t=e.mode,e.headersList.set("sec-fetch-mode",t)},appendRequestOriginHeader:function(e){let t=e.origin;if("cors"===e.responseTainting||"websocket"===e.mode)t&&e.headersList.append("origin",t);else if("GET"!==e.method&&"HEAD"!==e.method){switch(e.referrerPolicy){case"no-referrer":t=null;break;case"no-referrer-when-downgrade":case"strict-origin":case"strict-origin-when-cross-origin":e.origin&&v(e.origin)&&!v(b(e))&&(t=null);break;case"same-origin":P(e,b(e))||(t=null)}t&&e.headersList.append("origin",t)}},TAOCheck:function(){return"success"},corsCheck:function(){return"success"},crossOriginResourcePolicyCheck:function(){return"allowed"},createOpaqueTimingInfo:function(e){return{startTime:e.startTime??0,redirectStartTime:0,redirectEndTime:0,postRedirectStartTime:e.startTime??0,finalServiceWorkerStartTime:0,finalNetworkResponseStartTime:0,finalNetworkRequestStartTime:0,endTime:0,encodedBodySize:0,decodedBodySize:0,finalConnectionTimingInfo:null}},setRequestReferrerPolicyOnRedirect:function(e,t){let{headersList:r}=t,n=(r.get("referrer-policy")??"").split(","),o="";if(n.length>0)for(let e=n.length;0!==e;e--){let t=n[e-1].trim();if(u.has(t)){o=t;break}}""!==o&&(e.referrerPolicy=o)},isValidHTTPToken:S,requestBadPort:function(e){let t=b(e);return A(t)&&f.has(t.port)?"blocked":"allowed"},requestCurrentURL:b,responseURL:y,responseLocationURL:function(e,t){if(!c.has(e.status))return null;let r=e.headersList.get("location");return null!==r&&T(r)&&(r=new URL(r,y(e))),r&&!r.hash&&(r.hash=t),r},isBlobLike:d,isURLPotentiallyTrustworthy:O,isValidReasonPhrase:function(e){for(let t=0;t<e.length;++t){let r=e.charCodeAt(t);if(!(9===r||r>=32&&r<=126||r>=128&&r<=255))return!1}return!0},sameOrigin:P,normalizeMethod:function(e){return E[e.toLowerCase()]??e},serializeJavascriptValueToJSONString:function(e){let t=JSON.stringify(e);if(void 0===t)throw TypeError("Value is not JSON serializable");return i("string"==typeof t),t},makeIterator:function(e,t,r){let n={index:0,kind:r,target:e},o={next(){if(Object.getPrototypeOf(this)!==o)throw TypeError(`'next' called on an object that does not implement interface ${t} Iterator.`);let{index:e,kind:r,target:i}=n,a=i();if(e>=a.length)return{value:void 0,done:!0};let s=a[e];return n.index=e+1,function(e,t){let r;switch(t){case"key":r=e[0];break;case"value":r=e[1];break;case"key+value":r=e}return{value:r,done:!1}}(s,r)},[Symbol.toStringTag]:`${t} Iterator`};return Object.setPrototypeOf(o,L),Object.setPrototypeOf({},o)},isValidHeaderName:function(e){return S(e)},isValidHeaderValue:T,hasOwn:Object.hasOwn||((e,t)=>Object.prototype.hasOwnProperty.call(e,t)),isErrorLike:function(e){return e instanceof Error||e?.constructor?.name==="Error"||e?.constructor?.name==="DOMException"},fullyReadBody:async function e(e,t,r){let n;try{n=e.stream.getReader()}catch(e){r(e);return}try{let e=await C(n);t(e)}catch(e){r(e)}},bytesMatch:function(t,r){if(void 0===e)return!0;let n=w(r);if("no metadata"===n||0===n.length)return!0;let o=function(e){let t=e[0].algo;if("5"===t[3])return t;for(let r=1;r<e.length;++r){let n=e[r];if("5"===n.algo[3]){t="sha512";break}"3"!==t[3]&&"3"===n.algo[3]&&(t="sha384")}return t}(n);for(let r of function(e,t){if(1===e.length)return e;let r=0;for(let n=0;n<e.length;++n)e[n].algo===t&&(e[r++]=e[n]);return e.length=r,e}(n,o)){let n=r.algo,o=r.hash,i=e.createHash(n).update(t).digest("base64");if("="===i[i.length-1]&&(i="="===i[i.length-2]?i.slice(0,-2):i.slice(0,-1)),function(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(e[r]!==t[r]){if("+"===e[r]&&"-"===t[r]||"/"===e[r]&&"_"===t[r])continue;return!1}return!0}(i,o))return!0}return!1},isReadableStreamLike:function(e){return H||(H=s),e instanceof H||"ReadableStream"===e[Symbol.toStringTag]&&"function"==typeof e.tee},readableStreamClose:function(e){try{e.close()}catch(e){if(!e.message.includes("Controller is already closed"))throw e}},isomorphicEncode:function(e){for(let t=0;t<e.length;t++)i(255>=e.charCodeAt(t));return e},isomorphicDecode:function(e){return e.length<65535?String.fromCharCode(...e):e.reduce((e,t)=>e+String.fromCharCode(t),"")},urlIsLocal:function(e){i("protocol"in e);let t=e.protocol;return"about:"===t||"blob:"===t||"data:"===t},urlHasHttpsScheme:v,urlIsHttpHttpsScheme:A,readAllBytes:C,normalizeMethodRecord:E,parseMetadata:w};export{l as default};
//# sourceMappingURL=python-version-check.3f48d3ee.js.map
