import e from"./python-version-check.3f48d3ee.js";import{types as r}from"util";var t={},n=$1vZ1t$pythonversioncheck3f48d3eejs.hasOwn,o=e.toUSVString;let i={};i.converters={},i.util={},i.errors={},i.errors.exception=function(e){return TypeError(`${e.header}: ${e.message}`)},i.errors.conversionFailed=function(e){let r=1===e.types.length?"":" one of",t=`${e.argument} could not be converted to${r}: ${e.types.join(", ")}.`;return i.errors.exception({header:e.prefix,message:t})},i.errors.invalidArgument=function(e){return i.errors.exception({header:e.prefix,message:`"${e.value}" is an invalid ${e.type}.`})},i.brandCheck=function(e,r,t){if(t?.strict===!1||e instanceof r)return e?.[Symbol.toStringTag]===r.prototype[Symbol.toStringTag];throw TypeError("Illegal invocation")},i.argumentLengthCheck=function({length:e},r,t){if(e<r)throw i.errors.exception({message:`${r} argument${1!==r?"s":""} required, but${e?" only":""} ${e} found.`,...t})},i.illegalConstructor=function(){throw i.errors.exception({header:"TypeError",message:"Illegal constructor"})},i.util.Type=function(e){switch(typeof e){case"undefined":return"Undefined";case"boolean":return"Boolean";case"string":return"String";case"symbol":return"Symbol";case"number":return"Number";case"bigint":return"BigInt";case"function":case"object":if(null===e)return"Null";return"Object"}},i.util.ConvertToInt=function(e,r,t,n={}){let o,a;64===r?(o=0x1fffffffffffff,a="unsigned"===t?0:-0x1fffffffffffff):"unsigned"===t?(a=0,o=Math.pow(2,r)-1):(a=Math.pow(-2,r)-1,o=Math.pow(2,r-1)-1);let s=Number(e);if(0===s&&(s=0),!0===n.enforceRange){if(Number.isNaN(s)||s===1/0||s===-1/0)throw i.errors.exception({header:"Integer conversion",message:`Could not convert ${e} to an integer.`});if((s=i.util.IntegerPart(s))<a||s>o)throw i.errors.exception({header:"Integer conversion",message:`Value must be between ${a}-${o}, got ${s}.`});return s}return Number.isNaN(s)||!0!==n.clamp?Number.isNaN(s)||0===s&&Object.is(0,s)||s===1/0||s===-1/0?0:(s=i.util.IntegerPart(s)%Math.pow(2,r),"signed"===t&&s>=Math.pow(2,r)-1)?s-Math.pow(2,r):s:s=Math.floor(s=Math.min(Math.max(s,a),o))%2==0?Math.floor(s):Math.ceil(s)},i.util.IntegerPart=function(e){let r=Math.floor(Math.abs(e));return e<0?-1*r:r},i.sequenceConverter=function(e){return r=>{if("Object"!==i.util.Type(r))throw i.errors.exception({header:"Sequence",message:`Value of type ${i.util.Type(r)} is not an Object.`});let t=r?.[Symbol.iterator]?.(),n=[];if(void 0===t||"function"!=typeof t.next)throw i.errors.exception({header:"Sequence",message:"Object is not an iterator."});for(;;){let{done:r,value:o}=t.next();if(r)break;n.push(e(o))}return n}},i.recordConverter=function(e,t){return n=>{if("Object"!==i.util.Type(n))throw i.errors.exception({header:"Record",message:`Value of type ${i.util.Type(n)} is not an Object.`});let o={};if(!r.isProxy(n)){for(let r of Object.keys(n)){let i=e(r),a=t(n[r]);o[i]=a}return o}for(let r of Reflect.ownKeys(n)){let i=Reflect.getOwnPropertyDescriptor(n,r);if(i?.enumerable){let i=e(r),a=t(n[r]);o[i]=a}}return o}},i.interfaceConverter=function(e){return(r,t={})=>{if(!1!==t.strict&&!(r instanceof e))throw i.errors.exception({header:e.name,message:`Expected ${r} to be an instance of ${e.name}.`});return r}},i.dictionaryConverter=function(e){return r=>{let t=i.util.Type(r),o={};if("Null"===t||"Undefined"===t)return o;if("Object"!==t)throw i.errors.exception({header:"Dictionary",message:`Expected ${r} to be one of: Null, Undefined, Object.`});for(let t of e){let{key:e,defaultValue:a,required:s,converter:u}=t;if(!0===s&&!n(r,e))throw i.errors.exception({header:"Dictionary",message:`Missing required key "${e}".`});let c=r[e],f=n(t,"defaultValue");if(f&&null!==c&&(c=c??a),s||f||void 0!==c){if(c=u(c),t.allowedValues&&!t.allowedValues.includes(c))throw i.errors.exception({header:"Dictionary",message:`${c} is not an accepted type. Expected one of ${t.allowedValues.join(", ")}.`});o[e]=c}}return o}},i.nullableConverter=function(e){return r=>null===r?r:e(r)},i.converters.DOMString=function(e,r={}){if(null===e&&r.legacyNullToEmptyString)return"";if("symbol"==typeof e)throw TypeError("Could not convert argument of type symbol to string.");return String(e)},i.converters.ByteString=function(e){let r=i.converters.DOMString(e);for(let e=0;e<r.length;e++)if(r.charCodeAt(e)>255)throw TypeError(`Cannot convert argument to a ByteString because the character at index ${e} has a value of ${r.charCodeAt(e)} which is greater than 255.`);return r},i.converters.USVString=o,i.converters.boolean=function(e){return!!e},i.converters.any=function(e){return e},i.converters["long long"]=function(e){return i.util.ConvertToInt(e,64,"signed")},i.converters["unsigned long long"]=function(e){return i.util.ConvertToInt(e,64,"unsigned")},i.converters["unsigned long"]=function(e){return i.util.ConvertToInt(e,32,"unsigned")},i.converters["unsigned short"]=function(e,r){return i.util.ConvertToInt(e,16,"unsigned",r)},i.converters.ArrayBuffer=function(e,t={}){if("Object"!==i.util.Type(e)||!r.isAnyArrayBuffer(e))throw i.errors.conversionFailed({prefix:`${e}`,argument:`${e}`,types:["ArrayBuffer"]});if(!1===t.allowShared&&r.isSharedArrayBuffer(e))throw i.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});return e},i.converters.TypedArray=function(e,t,n={}){if("Object"!==i.util.Type(e)||!r.isTypedArray(e)||e.constructor.name!==t.name)throw i.errors.conversionFailed({prefix:`${t.name}`,argument:`${e}`,types:[t.name]});if(!1===n.allowShared&&r.isSharedArrayBuffer(e.buffer))throw i.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});return e},i.converters.DataView=function(e,t={}){if("Object"!==i.util.Type(e)||!r.isDataView(e))throw i.errors.exception({header:"DataView",message:"Object is not a DataView."});if(!1===t.allowShared&&r.isSharedArrayBuffer(e.buffer))throw i.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});return e},i.converters.BufferSource=function(e,t={}){if(r.isAnyArrayBuffer(e))return i.converters.ArrayBuffer(e,t);if(r.isTypedArray(e))return i.converters.TypedArray(e,e.constructor);if(r.isDataView(e))return i.converters.DataView(e,t);throw TypeError(`Could not convert ${e} to a BufferSource.`)},i.converters["sequence<ByteString>"]=i.sequenceConverter(i.converters.ByteString),i.converters["sequence<sequence<ByteString>>"]=i.sequenceConverter(i.converters["sequence<ByteString>"]),i.converters["record<ByteString, ByteString>"]=i.recordConverter(i.converters.ByteString,i.converters.ByteString),t={webidl:i};export{t as default};
//# sourceMappingURL=python-version-check.801bb0f1.js.map
